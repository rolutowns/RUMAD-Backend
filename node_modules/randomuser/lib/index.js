"use strict";
const request = require("request");
const url_1 = require("url");
const BASE_URL = 'https://randomuser.me/api/';
class RandomUser {
    constructor() {
        if (!(this instanceof RandomUser)) {
            return new RandomUser();
        }
    }
    getUsers(params, callback) {
        let url = BASE_URL + '?';
        if (typeof params === 'function') {
            callback = params;
            params = undefined;
        }
        if (typeof callback !== 'function') {
            throw new Error('ERROR: Invalid callback function.');
        }
        else if (typeof params === 'object') {
            const queryParams = new url_1.URLSearchParams(params);
            url += queryParams.toString();
        }
        request.get(url, (error, response, body) => {
            if (!error && response.statusCode === 200) {
                callback(JSON.parse(body).results);
            }
            else if (error) {
                throw new Error(error);
            }
        });
        return this;
    }
}
module.exports = RandomUser;
//# sourceMappingURL=index.js.map